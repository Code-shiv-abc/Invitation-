<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An Indian Wedding Invitation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Tiro+Devanagari+Sanskrit&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: #2a0000;
            color: #f0e6d2;
        }
        .devanagari {
            font-family: 'Tiro Devanagari Sanskrit', serif;
        }
        .bg-maroon { background-color: #5d001e; }
        .bg-saffron { background-color: #ff9933; }
        .bg-emerald { background-color: #50c878; }
        .text-gold { color: #d4af37; }
        .border-gold { border-color: #d4af37; }
        .bg-gold { background-color: #d4af37; }

        /* Custom Patterns */
        .paisley-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='52' height='52' viewBox='0 0 52 52' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.1'%3E%3Cpath d='M10 10c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-2.21 0-4-1.79-4-4 0-3.314-2.686-6-6-6s-6-2.686-6-6c0-2.21-1.79-4-4-4s-4 1.79-4 4v2c2.21 0 4 1.79 4 4zM30 30c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-2.21 0-4-1.79-4-4 0-3.314-2.686-6-6-6s-6-2.686-6-6c0-2.21-1.79-4-4-4s-4 1.79-4 4v2c2.21 0 4 1.79 4 4zM50 50c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-2.21 0-4-1.79-4-4 0-3.314-2.686-6-6-6s-6-2.686-6-6c0-2.21-1.79-4-4-4s-4 1.79-4 4v2c2.21 0 4 1.79 4 4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        .card-3d:hover {
            transform: rotateY(10deg) rotateX(5deg) scale(1.05);
        }
        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>
<body class="bg-maroon paisley-pattern overflow-x-hidden">

    <!-- Phase 1: Loader -->
    <div id="loader" class="fixed inset-0 bg-maroon z-50 flex items-center justify-center">
        <svg class="animate-spin h-24 w-24 text-gold" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
    </div>

    <!-- Phase 2: Unveiling -->
    <div id="curtain" class="fixed inset-0 z-40 flex">
        <div id="left-door" class="w-1/2 h-full bg-maroon border-r-2 border-gold flex items-center justify-end">
             <div class="text-gold text-4xl font-bold -mr-8">R&S</div>
        </div>
        <div id="right-door" class="w-1/2 h-full bg-maroon border-l-2 border-gold flex items-center justify-start">
        </div>
        <button id="open-invitation" class="absolute bottom-10 left-1/2 -translate-x-1/2 bg-gold text-maroon px-6 py-3 rounded-full font-bold text-lg hover:bg-opacity-80 transition-all">
            Open Invitation
        </button>
    </div>

    <main id="main-content" class="opacity-0">
        <!-- Phase 3: Aamantran -->
        <section id="aamantran" class="min-h-screen flex flex-col items-center justify-center text-center p-8">
            <div class="devanagari text-2xl text-gold mb-2">|| श्री गणेशाय नमः ||</div>
            <div class="text-sm text-gray-300 mb-8">|| Shree Ganeshay Namah ||</div>

            <div class="my-12">
                <div class="devanagari text-4xl text-gold leading-relaxed">वक्रतुण्ड महाकाय सूर्यकोटि समप्रभ।</div>
                <div class="devanagari text-4xl text-gold leading-relaxed">निर्विघ्नं कुरु मे देव सर्वकार्येषु सर्वदा॥</div>
            </div>

            <div class="italic text-lg text-gray-300 my-4">
                <p>Vakratunda Mahakaya Suryakoti Samaprabha.</p>
                <p>Nirvighnam Kuru Me Deva Sarvakaryeshu Sarvada.</p>
            </div>
            <div class="text-lg my-4 max-w-2xl">
                "O, Lord with a curved trunk and a mighty body, whose splendor is equal to a million suns, please make all my endeavors free of obstacles, always."
            </div>

            <div class="mt-12 text-xl space-y-6">
                <p>With the divine blessings of Smt. & Shri. Ram and Sita Sharma</p>
                <p>Smt. & Shri. Ashok and Meera Kumar<br>request the honour of your presence at the wedding ceremony of their beloved son</p>
                <h1 class="text-5xl text-gold font-bold my-4">Raj</h1>
                <p>with</p>
                <h1 class="text-5xl text-gold font-bold my-4">Priya</h1>
                <p>daughter of Smt. & Shri. Vijay and Sunita Patel</p>
            </div>
        </section>

        <!-- Phase 4: Itinerary -->
        <section id="utsav" class="py-20 bg-maroon bg-opacity-50">
            <h2 class="text-5xl text-center text-gold font-bold mb-12">The Festivities</h2>
            <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8">
                <!-- Haldi -->
                <div class="card-3d bg-saffron bg-opacity-20 border border-gold p-6 rounded-lg text-center">
                    <h3 class="text-3xl text-gold mb-2">Haldi</h3>
                    <p class="text-lg">Monday, 20th Nov 2023</p>
                    <p>10:00 AM onwards</p>
                </div>
                <!-- Mehendi -->
                <div class="card-3d bg-emerald bg-opacity-20 border border-gold p-6 rounded-lg text-center">
                    <h3 class="text-3xl text-gold mb-2">Mehendi</h3>
                    <p class="text-lg">Monday, 20th Nov 2023</p>
                    <p>06:00 PM onwards</p>
                </div>
                <!-- Sangeet -->
                <div class="card-3d bg-blue-500 bg-opacity-20 border border-gold p-6 rounded-lg text-center">
                     <h3 class="text-3xl text-gold mb-2">Sangeet</h3>
                    <p class="text-lg">Tuesday, 21st Nov 2023</p>
                    <p>07:00 PM onwards</p>
                </div>
                 <!-- Vivah -->
                <div class="card-3d bg-red-500 bg-opacity-20 border border-gold p-6 rounded-lg text-center">
                    <h3 class="text-3xl text-gold mb-2">Wedding</h3>
                    <p class="text-lg">Wednesday, 22nd Nov 2023</p>
                    <p>05:00 PM onwards</p>
                </div>
                <!-- Reception -->
                <div class="card-3d bg-purple-500 bg-opacity-20 border border-gold p-6 rounded-lg text-center">
                    <h3 class="text-3xl text-gold mb-2">Reception</h3>
                    <p class="text-lg">Wednesday, 22nd Nov 2023</p>
                    <p>08:00 PM onwards</p>
                </div>
            </div>
        </section>

        <!-- Phase 5: Gallery -->
        <section id="prem-gatha" class="py-20">
            <h2 class="text-5xl text-center text-gold font-bold mb-12">Our Story</h2>
            <div class="horizontal-scroll-container flex space-x-8 px-8" style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
                 <div class="flex-shrink-0 w-80 h-96 bg-cover bg-center rounded-lg parallax-bg" style="background-image: url('https://images.unsplash.com/photo-1593104547489-5cfb3839a3b5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80')"></div>
                <div class="flex-shrink-0 w-80 h-96 bg-cover bg-center rounded-lg parallax-bg" style="background-image: url('https://images.unsplash.com/photo-1541512419328-6695e354a4b4?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80')"></div>
                <div class="flex-shrink-0 w-80 h-96 bg-cover bg-center rounded-lg parallax-bg" style="background-image: url('https://images.unsplash.com/photo-1604280252119-c56c1b821813?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80')"></div>
                <div class="flex-shrink-0 w-80 h-96 bg-cover bg-center rounded-lg parallax-bg" style="background-image: url('https://images.unsplash.com/photo-1610715936287-6c2ad208d143?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80')"></div>
            </div>
        </section>

        <!-- Phase 6: Aashirwad & RSVP -->
        <section id="aashirwad" class="py-20 bg-maroon bg-opacity-50 text-center">
             <h2 class="text-5xl text-center text-gold font-bold mb-12">Blessings & RSVP</h2>
            <div class="container mx-auto px-4 max-w-xl">
                <div class="mb-12">
                    <h3 class="text-3xl text-gold mb-4">Leave Your Blessings</h3>
                    <textarea id="blessing-text" class="w-full h-32 p-4 bg-maroon border border-gold rounded-lg text-white" placeholder="Your loving wishes..."></textarea>
                    <button id="submit-blessing" class="mt-4 bg-gold text-maroon px-8 py-2 rounded-full font-bold hover:bg-opacity-80 transition-all">Send Blessings</button>
                    <div id="blessings-display" class="mt-8 text-left space-y-4"></div>
                </div>
                <div>
                    <h3 class="text-3xl text-gold mb-4">Will you be gracing us with your presence?</h3>
                    <div id="rsvp-buttons" class="flex justify-center space-x-4">
                        <button data-rsvp="attending" class="rsvp-button bg-transparent border border-gold text-gold px-8 py-2 rounded-full font-bold hover:bg-gold hover:text-maroon transition-all">Attending</button>
                        <button data-rsvp="not-attending" class="rsvp-button bg-transparent border border-gold text-gold px-8 py-2 rounded-full font-bold hover:bg-gold hover:text-maroon transition-all">Not Attending</button>
                    </div>
                    <p id="rsvp-feedback" class="mt-4 text-lg text-gold"></p>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);

            // Phase 1: Loader
            window.addEventListener('load', () => {
                gsap.to("#loader", {
                    opacity: 0,
                    duration: 1,
                    onComplete: () => {
                        document.getElementById('loader').style.display = 'none';
                    }
                });
            });

            // Phase 2: Unveiling
            const openButton = document.getElementById('open-invitation');
            openButton.addEventListener('click', () => {
                const tl = gsap.timeline({
                    onComplete: () => {
                        // Hide the curtain after animation to allow clicks
                        document.getElementById('curtain').style.display = 'none';
                    }
                });
                tl.to("#open-invitation", { opacity: 0, duration: 0.5, y: 20 })
                  .to("#left-door", { x: '-100%', duration: 1.5, ease: 'power2.inOut' })
                  .to("#right-door", { x: '100%', duration: 1.5, ease: 'power2.inOut' }, "-=1.5")
                  .to("#main-content", { opacity: 1, duration: 1 })
                  .from("#aamantran > *", { opacity: 0, y: 30, stagger: 0.2, duration: 1 }, "-=0.5");
            });

            // Phase 4: Card Hover
            // This is handled by CSS :hover pseudo-class for simplicity.

            // Phase 5: Parallax Gallery
            gsap.utils.toArray(".parallax-bg").forEach(bg => {
                gsap.to(bg, {
                    backgroundPosition: "50% -50px",
                    ease: "none",
                    scrollTrigger: {
                        trigger: bg,
                        start: "top bottom",
                        end: "bottom top",
                        scrub: true
                    }
                });
            });

            // Fade in sections on scroll
            gsap.utils.toArray('section').forEach((section, i) => {
                if (i > 0) { // Skip the first section
                    gsap.from(section, {
                        opacity: 0,
                        y: 50,
                        duration: 1,
                        scrollTrigger: {
                            trigger: section,
                            start: 'top 80%',
                            toggleActions: 'play none none none'
                        }
                    });
                }
            });

            // Phase 6: Blessings & RSVP
            const blessingText = document.getElementById('blessing-text');
            const submitBlessing = document.getElementById('submit-blessing');
            const blessingsDisplay = document.getElementById('blessings-display');
            const rsvpButtons = document.querySelectorAll('.rsvp-button');
            const rsvpFeedback = document.getElementById('rsvp-feedback');

            // Load from localStorage
            const savedBlessings = JSON.parse(localStorage.getItem('weddingBlessings')) || [];
            savedBlessings.forEach(b => displayBlessing(b.text, b.date));

            const savedRSVP = localStorage.getItem('weddingRSVP');
            if(savedRSVP) {
                updateRSVPUI(savedRSVP);
            }

            function displayBlessing(text, date) {
                const blessingEl = document.createElement('div');
                blessingEl.className = 'bg-maroon p-4 rounded-lg border border-gold border-opacity-30';
                blessingEl.innerHTML = `<p>"${text}"</p><small class="text-gray-400">${date}</small>`;
                blessingsDisplay.prepend(blessingEl);
            }

            submitBlessing.addEventListener('click', () => {
                const text = blessingText.value.trim();
                if (text) {
                    const date = new Date().toLocaleString();
                    displayBlessing(text, date);

                    const currentBlessings = JSON.parse(localStorage.getItem('weddingBlessings')) || [];
                    currentBlessings.push({ text, date });
                    localStorage.setItem('weddingBlessings', JSON.stringify(currentBlessings));

                    blessingText.value = '';
                }
            });

            function updateRSVPUI(status) {
                rsvpButtons.forEach(btn => {
                    if(btn.dataset.rsvp === status) {
                        btn.classList.add('bg-gold', 'text-maroon');
                        btn.classList.remove('bg-transparent', 'text-gold');
                    } else {
                        btn.classList.remove('bg-gold', 'text-maroon');
                        btn.classList.add('bg-transparent', 'text-gold');
                    }
                });
                 if (status === 'attending') {
                    rsvpFeedback.textContent = "We eagerly await your presence!";
                } else {
                    rsvpFeedback.textContent = "You will be missed!";
                }
            }

            rsvpButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const rsvpStatus = button.dataset.rsvp;
                    localStorage.setItem('weddingRSVP', rsvpStatus);
                    updateRSVPUI(rsvpStatus);
                });
            });
        });
    </script>
</body>
</html>